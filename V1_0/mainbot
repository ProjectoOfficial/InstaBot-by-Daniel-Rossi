# Dott. Daniel Rossi Â© 2021
# https://youtube.com/c/ProjectoOfficial
# seguici anche su Instagram come @OfficialProjecto e Facebook come @MiniProjectsOfficial

from instabot.V1_0 import bot
from selenium import webdriver
import os

'''
Please consider that the bot may not work because it could be necessary to update xpaths
'''

if __name__ == '__main__':

    username = ''
    password = ''
    profile = ''
    tag = ''

    # start must be >=1
    stop = 300
    start = 3

    bot = bot.InstaBot(username, password)

    # MODE
    # 0) TEST MODE
    # 1) likes first picture of profile's followers sequentially
    # 2) likes first picture of profile's followers randomly
    # 3) likes pictures found by a tag
    # 4) prints all your followers
    # 5) prints people who don't follow you back

    mode = 5

    print(bot.get_banner())

    option = webdriver.ChromeOptions()
    option.add_argument('headless')
    if os.path.exists("chromedriver.exe"):
        driver = webdriver.Chrome("chromedriver.exe", options=option)
        print("Your current Chromedriver version is: {}".format(driver.capabilities['chrome']['chromedriverVersion'].split(" ")[0]))
    else:
        driver = webdriver.Chrome(options=option)
        print("You do NOT have chromedriver.exe in the current folder")
        print("You must download the correct Chromedriver.exe version from https://chromedriver.chromium.org/downloads")
        print("then add it to the current folder: {} \n".format(os.getcwd()))

    print("Your current browser version is: {} \n".format(driver.capabilities['browserVersion']))

    if mode == 0:
        pass
    if mode == 1:
        bot.work_sequentially(profile, stop, start)
    elif mode == 2:
        bot.work_randomly(profile, stop, start)
    elif mode == 3:
        bot.like_on_a_tag(tag, stop)
    elif mode == 4:
        bot.update_followers()
    elif mode == 5:
        bot.i_am_not_a_fan_of_anyone(updatefollowers=True, updatefollowing=True)

